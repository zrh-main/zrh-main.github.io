---
title: 请求参数的绑定
tags:
  - SpringMVC
categories:
  - Java
---

## 支持的数据类型
基本类型参数：
  包括基本类型和 String 类型
POJO 类型参数：
  包括实体类，以及关联的实体类
数组和集合类型参数：
  包括 List 结构和 Map 结构的集合（包括数组）
SpringMVC 绑定请求参数是自动实现的，但是要想使用，必须遵循使用要求。

## 使用要求
基本类型或者 String 类型：
要求我们的参数名称必须和控制器中方法的形参名称保持一致。(严格区分大小写)
POJO 类型，或者它的关联对象：
要求表单中参数名称和 POJO 类的属性名称保持一致。并且控制器方法的参数类型是 POJO 类型。
如果是集合类型,有两种方式：
第一种：
  要求集合类型的请求参数必须在 POJO 中。在表单中请求参数名称要和 POJO 中集合属性名称相同。
  给 List 集合中的元素赋值，使用下标。
  给 Map 集合中的元素赋值，使用键值对。
第二种：
  接收的请求参数是 json 格式数据。需要借助一个注解实现。
注意:
它还可以实现一些数据类型自动转换。内置转换器全都在：
org.springframework.core.convert.support 包下

## 请求参数乱码问题
post 请求方式：
1. 在 web.xml 中配置过滤器
``` xml
<!-- 配置 springMVC 编码过滤器 -->
<filter> 
  <filter-name>CharacterEncodingFilter</filter-name> 
  <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class> 
  <!-- 设置过滤器中的属性值 --> 
  <init-param> 
    <param-name>encoding</param-name> 
    <param-value>UTF-8</param-value> 
  </init-param> 
  <!-- 启动过滤器 --> 
  <init-param> 
    <param-name>forceEncoding</param-name> 
    <param-value>true</param-value> 
  </init-param> 
</filter> 
<!-- 过滤所有请求 --> 
<filter-mapping> 
  <filter-name>CharacterEncodingFilter</filter-name> 
  <url-pattern>/*</url-pattern> 
</filter-mapping>
```
2. 在 springmvc 的配置文件中配置静态资源不过滤
``` xml
<!-- location 表示路径，mapping 表示文件，**表示该目录下的文件以及子目录的文件 -->
<mvc:resources location="/css/" mapping="/css/**"/>
<mvc:resources location="/images/" mapping="/images/**"/>
<mvc:resources location="/scripts/" mapping="/javascript/**"/>
```
get 请求方式：
修改 tomcat 的 server.xml配置文件
``` xml
<Connector connectionTimeout="20000" port="8080"
protocol="HTTP/1.1" redirectPort="8443"/>
改为：
<Connector connectionTimeout="20000" port="8080"
protocol="HTTP/1.1" redirectPort="8443"
useBodyEncodingForURI="true"/>
ajax 请求仍然乱码，把：useBodyEncodingForURI="true"改为 URIEncoding="UTF-8"即可
```

## 使用 ServletAPI 对象作为方法参数
SpringMVC 还支持使用原始 ServletAPI 对象作为控制器方法的参数。支持原始 ServletAPI 对象有：
HttpServletRequest 
HttpServletResponse
HttpSession
java.security.Principal
Locale
InputStream 
OutputStream 
Reader 
Writer
上述对象，直接写在控制层的方法参数中使用

