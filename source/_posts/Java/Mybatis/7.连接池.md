---
title: 连接池
date: 2022-2-11 14:56:43
tags:
  - Java 持久层框架
categories: mybatis
---


mybatise连接池有3种配置


配置核心配置文件中的datasources标签，在type属性中有3个取值：

`Pooled`：采用的是传统的DataSource规范中的连接池，mybatis有针对该接口的实现
`Unpooled`：采用的是传统的DataSource规范中接口实现，没有使用连接池
`jndi`：采用jndi的技术实现。根据服务器的不同，拿到的数据源不同

Pooled：我们发现它会先看没有空闲连接：
  - 有：	直接从空闲连接中获取第一个来使用
  - 没有：
    - 判断你的活动连接数是否小于设置的最大的连接数：
    - 小于：  创建了一个新的连接来使用
    - 不小于： 获取出最老的一个连接，进行设置，使用
* 日志输出：pooled存在获取连接和归还连接的操作

unpooled：通它虽然实现了DataSource接口，但其实就是普通的jdbc使用四大参数获取了连接，并没有使用连接池
