---
title: Redis安全相关
tags:
  - Redis
categories:
  数据库
---





## 密码设置

### 方式一 命令行设置密码
1. 运行cmd切换到redis根目录,启动服务端`redis-server.exe`
2. 运行另一个cmd切换到redis根目录，启动客户端`redis-cli.exe -h 127.0.0.1 -p 6379`
3. 客户端使用config get requirepass命令查看密码`config get requirepass`// 默认为空
4. 客户端使用config set requirepass yourpassword命令设置密码`config set requirepass 密码`
5. 使用auth 验证密码`auth 密码`
**命令行设置的密码在服务重启后失效，不推荐使用**

### 方式二 配置文件设置密码
redis根目录下找到相关配置文件;例:`redis.windows.conf`和`redis.windows-service.conf`
**两个文件都按如下方式修改**
搜索requirepass，找到注释密码行，添加密码
``` conf
# requirepass foobared
requirepass 密码
```
**推荐使用**
### redis连接错误：ERR Client sent AUTH, but no password is set
原因分析:
客户端设置了auth认证，但没设置密码
例:使用jedis或redisson连接redis时，如果redis没有密码，但在配置文件中连接redis时使用了密码会出现此错误

解决方案：**给redis设置密码**

